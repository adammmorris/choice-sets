envName = 'wg_v2';
whichEnv = ['env/' envName '.mat'];
simsName = 'real4_recall';

numStarts = 8;
numSubjects = 72;
numFnEvals = 3000;

priorPDFs = {@(x) log(1/4), @(x) log(gampdf(x, 4.82, .88)), @(x) log(unifpdf(x, 0, 1)), @(x) log(unifpdf(x, 0, 1))};

main = ['fitting/' envName '/' simsName];
modelNames_all = {'cs-rand', 'mixture-all', 'mixture-expose-mb', 'mixture-mf-mb', 'mixture-mb', 'random'};
modelParams_all = {[-1 0 0 0 0 0], [1 -1 -1 -1 -1 0], [1 -1 -1 0 0], [1 -1 0 -1], [1 -1 0 0], [1 0 0 0]};

whichModels = 1:6;

modelNames = modelNames_all(whichModels);
modelParams = modelParams_all(whichModels);
numModels = length(whichModels);

for model = 1:numModels
    params = modelParams{model};
    name = modelNames{model};
    for i = 1:numSubjects
        fitModel([main '/sims.mat'], whichEnv, [main '/fit_' name '/'], ...
            params, priorPDFs, i, numStarts, numFnEvals, 0, false);
    end
end